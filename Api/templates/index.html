<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <style>
        .chat {
            display: flex;
            flex-direction: column;
        }

        .chat span {
            margin-bottom: 10px;
        }

        form {
            margin-top: 10px;
        }
    </style>
</head>

<body>
    <div class="chat"></div>
    <div style="display: flex;justify-content: center;align-items: center;" }="">
        <form style="display: flex;flex-direction: column;align-items:center;">
            <input type="number" placeholder="Insira o valor">
            </br></br>
            <button onclick="publishMqtt()" type="submit">Enviar</button>
        </form>
    </div>
    <script>
        function publishMqtt(){
            var valor = document.querySelector('input').value;
            var mqtt = require('mqtt')
            var client = mqtt.connect('mqtt://localhost:1883')
            client.on('connect', function () {
                client.publish('teste', valor)
                client.end()
            })
        }
    </script>
</body>

</html>